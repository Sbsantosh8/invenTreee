import{r as a,i as r,j as u,em as f}from"./vendor-9x6k4T-r.js";import{A as m,e as g}from"./index-Bd_yPD7D.js";import{u as h,c as x}from"./UseForm-C7xHtQGh.js";import{u as v}from"./UseInstance-Cb46b_w1.js";const _=()=>{const t=v({endpoint:m.plugin_list,defaultValue:[],hasPrimaryKey:!1,refetchOnMount:!0,refetchOnWindowFocus:!1,params:{active:!0}}),i=a.useCallback(e=>t.instance.filter(s=>!!s.mixins[e]),[t.instance]);return{plugins:t.instance,withMixin:i}},y=t=>_().withMixin(t);function F({stockId:t,locationId:i}){const e=y("locate"),[s,o]=a.useState(void 0);a.useEffect(()=>{var n;s&&e?e.find(d=>d.key===s)||o(void 0):o(((n=e[0])==null?void 0:n.key)??void 0)},[s,e]);const p=a.useMemo(()=>({plugin:{field_type:"choice",value:s,onValueChange:n=>{o(n)},choices:e.map(n=>{var l;return{value:n.key,display_name:((l=n.meta)==null?void 0:l.human_name)??n.name}})},item:{hidden:!0,value:t},location:{hidden:!0,value:i}}),[t,i,e]),c=h({url:g(m.plugin_locate_item),method:"POST",title:r._({id:"px+tn2"}),fields:p,successMessage:r._({id:"AXn3rz"})});return!e||e.length===0||!t&&!i?null:u.jsxs(u.Fragment,{children:[c.modal,u.jsx(x,{icon:u.jsx(f,{}),variant:"outline",size:"lg",tooltip:r._({id:"px+tn2"}),onClick:c.open,tooltipAlignment:"bottom"})]})}export{F as L};
