import{r as l,i as s,j as t}from"./vendor-9x6k4T-r.js";import{u as C,A as y}from"./UseForm-C7xHtQGh.js";import{T as j}from"./Instance-ZaRjKoLj.js";import{b as x}from"./formatters-MBbtNL9a.js";import{c as T,m as a,A as _,U as D,e as R}from"./index-Bd_yPD7D.js";import{u as se}from"./ReturnOrderForms-BbwWjf5K.js";import{u as g,a as A,b as M}from"./UseFilter-DqHeVZaa.js";import{u as O,O as S,b as w,c as B,A as P,M as U,d as v,C as E,e as V,T as Z,f as k,g as K,h as N,H as z,P as H,i as L,j as Q,I as W}from"./InvenTreeTable-KDc6oHjF.js";import{R as X,D as q,b as G,S as J,c as Y,C as $,d as I,T as ee,e as te,f as re,P as oe,h as ae}from"./ColumnRenderers-CTwRHGdM.js";import{u as le}from"./SalesOrderForms-DbF3BT5u.js";function Fe({partId:o,customerId:i}){const b=O(o?"returnorders-part":"returnorders-index"),n=T(),c=g(),u=A(),d=M(),f=l.useMemo(()=>{const e=[S({model:a.returnorder}),w(),B(),P(),U(),v(),E(),V(),Z(),k(),K(),N(),z(),H({choices:c.choices}),L({choices:u.choices}),Q({choices:d.choices})];return o&&e.push({name:"include_variants",type:"boolean",label:s._({id:"/g9i/Z"}),description:s._({id:"NkXwQy"})}),e},[o,c.choices,u.choices,d.choices]),F=l.useMemo(()=>[X({}),{accessor:"customer__name",title:s._({id:"876pfE"}),sortable:!0,render:e=>{const r=e.customer_detail??{};return t.jsx(j,{src:r==null?void 0:r.image,alt:r.name,text:r.name})}},{accessor:"customer_reference"},q({}),G(),J({model:a.returnorder}),Y({}),$({}),I({}),ee({}),te({accessor:"complete_date"}),re({}),{accessor:"total_price",title:s._({id:"KyZVKD"}),sortable:!0,render:e=>{var r;return x(e.total_price,{currency:e.order_currency??((r=e.customer_detail)==null?void 0:r.currency)})}}],[]),m=se({}),p=C({url:_.return_order_list,title:s._({id:"mpNlR/"}),fields:m,initialData:{customer:i},follow:!0,modelType:a.returnorder}),h=l.useMemo(()=>[t.jsx(y,{tooltip:s._({id:"mpNlR/"}),onClick:()=>p.open(),hidden:!n.hasAddRole(D.return_order)},"add-return-order")],[n]);return t.jsxs(t.Fragment,{children:[p.modal,t.jsx(W,{url:R(_.return_order_list),tableState:b,columns:F,props:{params:{part:o,customer:i,customer_detail:!0},tableFilters:f,tableActions:h,modelType:a.returnorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}function he({partId:o,customerId:i}){const b=O(o?"salesorder-part":"salesorder-index"),n=T(),c=g(),u=A(),d=M(),f=l.useMemo(()=>{const e=[S({model:a.salesorder}),w(),B(),P(),U(),v(),E(),V(),Z(),k(),K(),N(),z(),H({choices:c.choices}),L({choices:u.choices}),Q({choices:d.choices})];return o&&e.push({name:"include_variants",type:"boolean",label:s._({id:"/g9i/Z"}),description:s._({id:"NkXwQy"})}),e},[o,c.choices,u.choices,d.choices]),F=le({}),m=C({url:_.sales_order_list,title:s._({id:"VzdnWM"}),fields:F,initialData:{customer:i},follow:!0,modelType:a.salesorder}),p=l.useMemo(()=>[t.jsx(y,{tooltip:s._({id:"VzdnWM"}),onClick:()=>m.open(),hidden:!n.hasAddRole(D.sales_order)},"add-sales-order")],[n]),h=l.useMemo(()=>[X({}),{accessor:"customer__name",title:s._({id:"876pfE"}),sortable:!0,render:e=>{const r=e.customer_detail??{};return t.jsx(j,{src:r==null?void 0:r.image,alt:r.name,text:r.name})}},{accessor:"customer_reference",title:s._({id:"ZVUe1A"})},q({}),G(),{accessor:"shipments_count",title:s._({id:"aljM0q"}),render:e=>t.jsx(oe,{progressLabel:!0,value:e.completed_shipments_count,maximum:e.shipments_count})},J({model:a.salesorder}),Y({}),$({}),I({}),ee({}),ae({}),re({}),{accessor:"total_price",title:s._({id:"KyZVKD"}),sortable:!0,render:e=>{var r;return x(e.total_price,{currency:e.order_currency??((r=e.customer_detail)==null?void 0:r.currency)})}}],[]);return t.jsxs(t.Fragment,{children:[m.modal,t.jsx(W,{url:R(_.sales_order_list),tableState:b,columns:h,props:{params:{customer_detail:!0,part:o,customer:i},tableFilters:f,tableActions:p,modelType:a.salesorder,enableSelection:!0,enableDownload:!0,enableReports:!0}})]})}export{Fe as R,he as S};
