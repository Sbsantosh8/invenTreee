import{bA as d,r as c}from"./vendor-9x6k4T-r.js";import{u as v}from"./DesktopAppView-D7dqNL6j.js";import{r as b,e as u,A as n}from"./index-Bd_yPD7D.js";function l(e){const i=v(),t=d({enabled:!0,gcTime:500,queryKey:[e.url,e.method,e.params],queryFn:async()=>await i.request({url:e.url,method:e.method??"GET",params:e.params}).then(s=>{const r=b(s,e.accessor??"data");return r==null||r==null?[]:r}).catch(s=>[])}),m=c.useMemo(()=>{var r;return(((r=t.data)==null?void 0:r.map(e.transform))??[]).map(a=>{var o;return{value:a.value.toString(),label:((o=a==null?void 0:a.label)==null?void 0:o.toString())??a.value.toString()}})},[e.transform,t.data]),f=c.useCallback(()=>{t.refetch()},[]);return{choices:m,refresh:f}}function F(){return l({url:u(n.project_code_list),transform:e=>({value:e.pk,label:e.code})})}function g(){return l({url:u(n.user_list),params:{is_active:!0},transform:e=>({value:e.pk,label:e.username})})}function k(){return l({url:u(n.owner_list),params:{is_active:!0},transform:e=>({value:e.pk,label:e.name})})}export{k as a,g as b,l as c,F as u};
