import{r as o,i,j as a}from"./vendor-9x6k4T-r.js";import{u as U,a as A,b as _,A as R}from"./UseForm-C7xHtQGh.js";import{c as k,A as n,U as l,e as w}from"./index-Bd_yPD7D.js";import{c as p}from"./CommonForms-7Y99pmHv.js";import{u as x,R as C,a as F,I as M}from"./InvenTreeTable-KDc6oHjF.js";import"./DesktopAppView-D7dqNL6j.js";import"./ThemeContext-DRe09WSE.js";import"./dayjs.min-DUmzidR_.js";import"./ApiIcon-BBFuOj6_.js";import"./Instance-ZaRjKoLj.js";import"./navigation-BUwul1Ze.js";import"./ActionDropdown-DlGcqXhK.js";function K(){const s=x("custom-units"),e=k(),b=o.useMemo(()=>[{accessor:"name",switchable:!1,sortable:!0},{accessor:"definition",switchable:!1,sortable:!1},{accessor:"symbol",switchable:!1,sortable:!0}],[]),r=U({url:n.custom_unit_list,title:i._({id:"W3xtIU"}),fields:p(),table:s}),[c,u]=o.useState(-1),m=A({url:n.custom_unit_list,pk:c,title:i._({id:"MiLRVK"}),fields:p(),onFormSuccess:t=>s.updateRecord(t)}),d=_({url:n.custom_unit_list,pk:c,title:i._({id:"UbQkdF"}),table:s}),f=o.useCallback(t=>[C({hidden:!e.hasChangeRole(l.admin),onClick:()=>{u(t.pk),m.open()}}),F({hidden:!e.hasDeleteRole(l.admin),onClick:()=>{u(t.pk),d.open()}})],[e]),h=o.useMemo(()=>{const t=[];return t.push(a.jsx(R,{tooltip:i._({id:"VzcXtA"}),onClick:()=>r.open(),hidden:!e.isStaff()||!e.hasChangeRole(l.admin)})),t},[e]);return a.jsxs(a.Fragment,{children:[r.modal,m.modal,d.modal,a.jsx(M,{url:w(n.custom_unit_list),tableState:s,columns:b,props:{rowActions:f,tableActions:h,enableDownload:!0}})]})}export{K as default};
