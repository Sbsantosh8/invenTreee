import{r as t,j as s,G as A,m as E,i as a}from"./vendor-9x6k4T-r.js";import{u as w,a as R,A as k}from"./UseForm-C7xHtQGh.js";import{T as F}from"./Instance-ZaRjKoLj.js";import{c as g,A as i,m as c,U as n,e as j}from"./index-Bd_yPD7D.js";import{c as d}from"./CompanyForms-BzJpK2Vu.js";import{n as M}from"./navigation-BUwul1Ze.js";import{u as v,R as G,I as S}from"./InvenTreeTable-KDc6oHjF.js";import{D,B as z}from"./ColumnRenderers-CTwRHGdM.js";import{e as U}from"./ThemeContext-DRe09WSE.js";function q({params:r,path:u}){const l=v("company"),b=U(),o=g(),_=t.useMemo(()=>[{accessor:"name",sortable:!0,render:e=>s.jsxs(A,{gap:"xs",wrap:"nowrap",children:[s.jsx(F,{src:e.thumbnail??e.image??"",alt:e.name,size:24}),s.jsx(E,{children:e.name})]})},D({}),z({accessor:"active",title:a._({id:"F6pfE9"}),sortable:!0,switchable:!0}),{accessor:"website",sortable:!1}],[]),m=w({url:i.company_list,title:a._({id:"5blzdE"}),fields:d(),initialData:r,follow:!0,modelType:c.company}),[f,h]=t.useState(0),p=R({url:i.company_list,pk:f,title:a._({id:"HoG6cl"}),fields:d(),onFormSuccess:e=>l.updateRecord(e)}),y=t.useMemo(()=>[{name:"active",label:a._({id:"F6pfE9"}),description:a._({id:"KbHNaM"})},{name:"is_supplier",label:a._({id:"PYTEl0"}),description:a._({id:"ZFG/Lo"})},{name:"is_manufacturer",label:a._({id:"+m9/3S"}),description:a._({id:"G/eOzG"})},{name:"is_customer",label:a._({id:"876pfE"}),description:a._({id:"7h6Dth"})}],[]),C=t.useMemo(()=>{const e=o.hasAddRole(n.purchase_order)||o.hasAddRole(n.sales_order);return[s.jsx(k,{tooltip:a._({id:"5blzdE"}),onClick:()=>m.open(),hidden:!e},"add-company")]},[o]),x=t.useCallback(e=>[G({hidden:!o.hasChangeRole(n.purchase_order)&&!o.hasChangeRole(n.sales_order),onClick:()=>{h(e.pk),p.open()}})],[o]);return s.jsxs(s.Fragment,{children:[m.modal,p.modal,s.jsx(S,{url:j(i.company_list),tableState:l,columns:_,props:{params:{...r},onRowClick:(e,B,T)=>{e.pk&&M(`/${u??"company"}/${e.pk}`,b,T)},modelType:c.company,tableFilters:y,tableActions:C,enableDownload:!0,rowActions:x}})]})}export{q as C};
