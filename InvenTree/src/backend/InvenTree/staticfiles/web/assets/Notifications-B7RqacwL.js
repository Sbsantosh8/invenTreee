import{r as c,i as t,j as e,ew as h,I as j,ex as k,cr as C,bi as T,az as d,S as A}from"./vendor-9x6k4T-r.js";import{c as f}from"./UseForm-C7xHtQGh.js";import{P as I}from"./PageDetail-DJvgu_vJ.js";import{P}from"./PanelGroup-BCG3mCoU.js";import{u as g}from"./DesktopAppView-D7dqNL6j.js";import{e as r,A as n}from"./index-Bd_yPD7D.js";import{I as M,u}from"./InvenTreeTable-KDc6oHjF.js";import{F as B}from"./ThemeContext-DRe09WSE.js";import"./dayjs.min-DUmzidR_.js";import"./ApiIcon-BBFuOj6_.js";import"./Instance-ZaRjKoLj.js";import"./navigation-BUwul1Ze.js";import"./PageTitle-D--W0kLm.js";import"./RemoteComponent-C0S0OuAi.js";import"./ActionDropdown-DlGcqXhK.js";function _({params:a,tableState:s,tableActions:o,actions:p}){const m=c.useMemo(()=>[{accessor:"age_human",title:t._({id:"RCU5PY"}),sortable:!0,ordering:"creation"},{accessor:"category",title:t._({id:"K7tIrx"}),sortable:!0},{accessor:"name",title:t._({id:"5+87Pq"})},{accessor:"message",title:t._({id:"xDAtGP"})}],[]);return e.jsx(M,{url:r(n.notifications_list),tableState:s,columns:m,props:{rowActions:p,tableActions:o,enableSelection:!0,params:a}})}function J(){const a=g(),s=u("unreadnotifications"),o=u("readnotifications"),p=c.useCallback(()=>{a.get(r(n.notifications_readall),{params:{read:!1}}).then(i=>{s.refreshTable(),o.refreshTable()}).catch(i=>{})},[]),m=c.useCallback(()=>{B.openConfirmModal({title:t._({id:"Zez9Ff"}),onConfirm:()=>{a.delete(r(n.notifications_list),{data:{filters:{read:!0}}}).then(i=>{o.refreshTable()}).catch(i=>{})}})},[]),b=c.useMemo(()=>[{name:"unread",label:t._({id:"iDNBZe"}),icon:e.jsx(h,{size:"18"}),content:e.jsx(_,{params:{read:!1},tableState:s,actions:i=>[{title:t._({id:"+s1J8k"}),color:"green",icon:e.jsx(j,{}),onClick:()=>{const l=r(n.notifications_list,i.pk);a.patch(l,{read:!0}).then(x=>{s.refreshTable()})}}],tableActions:[e.jsx(f,{icon:e.jsx(k,{}),tooltip:t._({id:"onllUU"}),onClick:p})]})},{name:"history",label:t._({id:"0caMy7"}),icon:e.jsx(C,{size:"18"}),content:e.jsx(_,{params:{read:!0},tableState:o,actions:i=>[{title:t._({id:"5GPcf9"}),icon:e.jsx(T,{}),onClick:()=>{const l=r(n.notifications_list,i.pk);a.patch(l,{read:!1}).then(x=>{o.refreshTable()})}},{title:t._({id:"cnGeoo"}),color:"red",icon:e.jsx(d,{}),onClick:()=>{a.delete(r(n.notifications_list,i.pk)).then(l=>{o.refreshTable()})}}],tableActions:[e.jsx(f,{color:"red",icon:e.jsx(d,{}),tooltip:t._({id:"j3/C3X"}),onClick:m})]})}],[s,o]);return e.jsxs(A,{children:[e.jsx(I,{title:t._({id:"iDNBZe"})}),e.jsx(P,{pageKey:"notifications",panels:b})]})}export{J as default};
