import{r as _,j as r,S as b,m as c,dZ as j,d_ as f,G as d,Z as g,bB as y,i as t,by as x,d as C,aT as w,aI as v,ci as k,A as T}from"./vendor-9x6k4T-r.js";import{Y as D}from"./YesNoButton-BsHbI51V.js";import{T as I,a as P,b as B,c as S}from"./Instance-ZaRjKoLj.js";import{f as z,b as R}from"./formatters-MBbtNL9a.js";import{r as a}from"./index-Bd_yPD7D.js";import{c as G}from"./navigation-BUwul1Ze.js";import{I as L}from"./ThemeContext-DRe09WSE.js";function M(e){const n=_.useMemo(()=>{const s=e.maximum??100,i=Math.max(e.value,0);return s==0?0:i/s*100},[e]);return r.jsxs(b,{gap:2,style:{flexGrow:1,minWidth:"100px"},children:[e.progressLabel&&r.jsxs(c,{ta:"center",size:"xs",children:[e.value," / ",e.maximum]}),r.jsx(j,{value:n,color:n<100?"orange":n>100?"blue":"green",size:e.size??"md",radius:"sm"})]})}function N({value:e,extra:n,title:s,icon:i,iconColor:l}){const o=_.useMemo(()=>Array.isArray(n)?n.length==0?null:r.jsx(b,{gap:"xs",children:n.map((u,h)=>r.jsx("div",{children:u},`item-${h}-${u}`))}):n,[n]);return o?r.jsxs(f,{withinPortal:!0,closeDelay:20,openDelay:250,children:[r.jsx(f.Target,{children:r.jsxs(d,{gap:"xs",justify:"space-between",wrap:"nowrap",children:[e,r.jsx(L,{icon:i??"info",iconProps:{size:16,color:l??"blue"}})]})}),r.jsx(f.Dropdown,{children:r.jsxs(b,{gap:"xs",children:[r.jsxs(d,{gap:"xs",justify:"left",children:[r.jsx(g,{size:"16",color:"blue"}),r.jsx(c,{fw:"bold",children:s})]}),r.jsx(y,{}),o]})})]}):e}function A({projectCode:e}){return e?r.jsx(N,{value:e==null?void 0:e.code,title:t._({id:"Sdfr6G"}),extra:e&&r.jsx(c,{children:e==null?void 0:e.description},"project-code")}):"-"}function J({part:e,full_name:n}){return e?r.jsxs(d,{justify:"space-between",wrap:"nowrap",children:[r.jsx(I,{src:(e==null?void 0:e.thumbnail)??(e==null?void 0:e.image),text:n?e==null?void 0:e.full_name:e==null?void 0:e.name}),r.jsxs(d,{justify:"flex-end",wrap:"nowrap",gap:"xs",children:[(e==null?void 0:e.active)==!1&&r.jsx(x,{label:t._({id:"TgUP31"}),children:r.jsx(C,{color:"red",size:16})}),(e==null?void 0:e.locked)&&r.jsx(x,{label:t._({id:"6z/VRr"}),children:r.jsx(w,{size:16})}),(e==null?void 0:e.starred)&&r.jsx(x,{label:t._({id:"uB1bw/"}),children:r.jsx(v,{size:16,color:"green"})})]})]}):r.jsx(k,{})}function Q(e){return{accessor:"location",title:t._({id:"wJijgU"}),sortable:!0,ordering:"location",render:n=>{const s=a(n,e.accessor??"");return s?r.jsx(c,{children:s.name}):r.jsx(c,{style:{fontStyle:"italic"},children:t._({id:"47h3Cb"})})},...e}}function V(e){return{sortable:!0,switchable:!0,render:n=>r.jsx(D,{value:a(n,e.accessor??"")}),...e}}function W(e){return{accessor:"description",title:t._({id:"Nu4oKW"}),sortable:!1,switchable:!0,...e}}function O(e){return{accessor:"link",sortable:!1,render:n=>{const s=a(n,e.accessor??"link");return s?r.jsx(T,{href:s,target:"_blank",rel:"noreferrer noopener",onClick:i=>{G(i),window.open(s,"_blank","noopener,noreferrer")},children:s}):"-"},...e}}function q(e){return{accessor:"reference",title:t._({id:"N2C89m"}),sortable:!0,switchable:!0,...e}}function X(e){return{accessor:"note",sortable:!1,title:t._({id:"KiJn9B"}),render:n=>n.note??n.notes,...e}}function p(){return{accessor:"line_items",sortable:!0,render:e=>r.jsx(M,{progressLabel:!0,value:e.completed_lines,maximum:e.line_items})}}function ee(e){return{accessor:"project_code",ordering:"project_code",sortable:!0,title:t._({id:"Sdfr6G"}),render:n=>{const s=a(n,e.accessor??"project_code_detail");return r.jsx(A,{projectCode:s})},...e}}function ne({model:e,sortable:n,ordering:s,accessor:i,title:l,hidden:o}){return{accessor:i??"status",sortable:n??!0,ordering:s,title:l,hidden:o,render:P(e,i??"status_custom_key")}}function re(e){return{accessor:"created_by",title:t._({id:"egTba/"}),sortable:!0,switchable:!0,render:n=>n.created_by&&B({instance:n.created_by}),...e}}function se(e){return{accessor:"responsible",sortable:!0,switchable:!0,render:n=>n.responsible&&S({instance:n.responsible_detail}),...e}}function m(e){return{accessor:"date",sortable:!0,title:t._({id:"mYGY3B"}),switchable:!0,render:n=>z(a(n,e.accessor??"date")),...e}}function te(e){return m({accessor:"target_date",title:t._({id:"ZmykKo"}),...e})}function ie(e){return m({accessor:"creation_date",title:t._({id:"FNcMGM"}),...e})}function oe(e){return m({accessor:"completion_date",title:t._({id:"41ha49"}),...e})}function ae(e){return m({accessor:"shipment_date",title:t._({id:"MFQxyA"}),...e})}function K({accessor:e,title:n,currency:s,currency_accessor:i,sortable:l}){return{accessor:e,title:n??t._({id:"Q2lUR2"}),sortable:l??!0,render:o=>{const u=i??`${e}_currency`;return R(a(o,e),{currency:s??a(o,u)})}}}function le(){return K({accessor:"total_price",title:t._({id:"KyZVKD"})})}export{V as B,ie as C,W as D,O as L,X as N,M as P,q as R,ne as S,te as T,J as a,p as b,ee as c,re as d,oe as e,se as f,N as g,ae as h,Q as i,m as j,K as k,le as l};
